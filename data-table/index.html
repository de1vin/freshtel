<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Table</title>
    <style>
        .data-table-form {
            position: sticky;
            top: 0;
        }
        .data-table-content{
            width: 100%;
            border-collapse: collapse;
            table-layout: fixed;
        }
        .data-table-content td {
            padding: 5px 0;
        }
        .data-table-header {
            width: 100%;
            background: #f0f0f0;
            border-top: 1px solid #ccc;
            border-bottom: 1px solid #ccc;
            border-collapse: collapse;
            table-layout: fixed;
            margin-bottom: 10px;
        }
        .data-table-header th {
            padding: 5px 0;
        }
    </style>
</head>
<body>
<div class="data-table-container">
    <form action="table-data.html" class="data-table-form">
    <table class="data-table-header">
        <tr>
            <th style="width: 70%">column 1</th>
            <th>column 2</th>
            <th>column 3</th>
        </tr>
        <tr>
            <th><input type="text" name="input_1" placeholder="filter"></th>
            <th><input type="text" name="input_2" placeholder="second filter"></th>
            <th><input type="text" name="input_3" placeholder="last filter"></th>
        </tr>
    </table>
    </form>
    <table class="data-table-content">
        <tr>
            <td style="width: 70%">content1</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content1</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content1</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content1</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
        <tr>
            <td>content</td>
            <td>some content</td>
            <td>last column content</td>
        </tr>
    </table>
</div>

<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function(){
        const filterForm = document.querySelector('.data-table-form');
        const contentTable = document.querySelector('.data-table-content');

        Array.from(filterForm.elements).forEach(element => {
            element.addEventListener('change', fetchData, false);
        });

        function fetchData() {
            const action = filterForm.getAttribute('action');
            const data = {};
            Array.from(filterForm.elements).forEach(element => {
                data[element.name] = element.value;
            });
            console.log(data);
            axios.get(action, {params: data})
                .then(function (response) {
                    let parser = new DOMParser;
                    let doc = parser.parseFromString(response.data, 'text/html');
                    let newContent = doc.querySelector('.data-table-content');
                    if (newContent) {
                        contentTable.innerHTML = newContent.innerHTML
                    }
                }).catch(function (error) {
                    console.log(error);
                })
                .finally(function () {
                    console.log('finish');
                });
        }
    });
</script>
</body>
</html>
